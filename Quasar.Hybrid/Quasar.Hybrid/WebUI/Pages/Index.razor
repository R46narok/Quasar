@page "/"
@using Quasar.Hybrid.Shared.HomeComponents
@using Plugin.BluetoothLE
@using Quasar.Core.DataAccess
@using Quasar.Core.Native

@inject NavigationManager NavigationManager

<NewGenSection />
<InteractionSection />
<FeaturesSection />
<GallerySection />
<MobileNavMenu />

@code {

    protected override void OnInitialized()
    {

        bool loggedIn = false;
        using (UserStorageExternal storage = new UserStorageExternal())
        {
            User user = storage.ReadBufferContent();
            if (user == null || string.IsNullOrWhiteSpace(user.Username))
                loggedIn = false;
            else
                loggedIn = true;
        }

        // TODO: NavigationManager.NavigateTo(loggedIn ? "/" : "/login");
        NavigationManager.NavigateTo("/");
    }

}
